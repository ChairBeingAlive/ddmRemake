# Rhino Basics

## Introduction

**Rhinoceros** (often abbreviated to Rhino) is a commercial 3D computer graphics 
and computer-aided design (CAD) application software. Rhino is well known for its freeform 
NURBS (Non-Uniform Rational B-Splines) surface modeling capabilities which offers great flexibility 
and presicion to handle complex shapes. Rhino also supports a vast array of plugins, allowing it to be tailored to specific industries or design challenges.
A good example is [Grasshopper](./ghBasic), a popular visual programming language add-on for Rhino 
that allows for advanced generative and algorithmic design capabilities.

This Rhino tutorial is organized in three sections: first we will introduce the composition of Rhino [window](#window) in detail, 
then we will dive into logic and model of basic [geometry](#geometry) like curve and surface, 
and the last part is some commands and model techniques frequently used during [model](#model) process. 

---

## Window

![rhinoWindow.png](/ddmImg/rhinoWindow.png)

> 1. Menu Bar - Access commands, options and document properties (e.g. model units).
> 2. [Viewports](#viewports) - Display different views and [modes](#display-modes) within the graphics area.
> 3. [Toolbar](#toolbar) - Lists modelling tools. 
> 4. [Popup Menu](#popup-menu) - Allows quick access to frequently used commands and tools
> 5. [Status Bar](#status-bar) - Displays options, toggles and coordinates.
> 6. [Panels](#panels) - Display specific panels such as layers, object properties, cameras etc.
> 7. [Command Line and History Window](#command-prompt-and-history-window) - 
>    Enter commands, get feedback, prompts, and options for the active command.

### Viewports

Viewports are windows in the graphics area that display views of your model in specific [display modes](#display_modes).
The standard layout in Rhino is four viewports which shows **perspective, top, front** and **right** view of the model.
Those viewports can be docked or floating and customized to any rectangular size and shape. The position of viewports is adjustable as well. 
By double-clicking the viewport title, you can switch between a small viewport and one that fills the graphics area. 

![Viewport_Toggle](/ddmImg/Rhino_03_Viewport_Toggle.png)

> The window-like 'Viewport' icon can reset the viewports to default 4-viewports layout, and you can find more layout of
> vieports in the corresponding flyout toolbar.

![rhinoViewports](/ddmImg/rhinoViewports.png)

> Right-clicking the viewport title (or clicking the triangle icon besides the title) allows more options on the viewports, which mainly includes:
>
> 1. **Maxmize/Restore the viewport** (Equivalent: `double-click` title)
> 2. **Change Display Mode** (e.g. Wireframe, Shaded, Rendered, etc.)
> 3. **Set View** (e.g. Perspective, Two Point Perspective, Isometric, etc.)
> 4. **Set Camera** 

#### Display Modes

Display modes determine how the viewports presents the 2D and 3D geometry, which gives a visual aid for understanding and showing the geometry.
Some commonly used display modes and their appearance are summarized below. You could also customize your display modes or import them from external sources. 
More info could be found [here](https://wiki.mcneel.com/rhino/6/advanceddisplay#background). 

![Mouse Navigation](/ddmImg/Rhino_08_Display_Mode_Toolbar.png)

> This icon allows swithching between the Wireframe mode and Shaded mode, and there are
> display modes in the corresponding linked toolbar.

![Mouse Navigation](/ddmImg/Rhino_11_Display_Modes.png)

> Default display modes 
>
> Note: Different modes have differnt setting on objects to be displayed. 
> For example, `Rendered` mode would not show points and curves by default, while `Shaded` mode shows all objects without shadow. Therefore during modelling process, we often use
> modes like `Wireframe`, `Shaded` and `X-ray`. You can also change and customize the display setting in the `Display` tab of [Panels](#panels).

---

### Toolbar

The toolbar serves as a visual collection of tools and commands that 
allows users to quickly and conveniently access the functionalities they need. 
Toolbars offer an alternative to using the command line by providing icon-based shortcuts to many of Rhino's functions. 

There are several toolbars in the default interface. The horizontal toolbar below the command line is organized by sections and 
lists all the tools in rhino, including the tools from other plugins; while the vertial one (sidebar) at the left side is linked to 
standard toolbar group which shows the commonly used tools in Rhino.

![rhinoToolPrompt](/ddmImg/rhinoToolPrompt.png)

> - It is worth noting that the function of most tools can be selected by left-clicking, but there are tools that 
> offer right-clicking function in addition. 
> - When the mouse is hovered over the icon, the function tip of this tool will be popped up, 
> from which you can find out what the function of left click and right click are respectively. 

#### Flyout Toolbar

A triangle in the lower right of a toolbar button indicates there are some other tools that have related but different functions. 
You can clike the triangle and access those tools in the flyout toolbar. 

![rhinoFlyoutToolbar](/ddmImg/rhinoFlyoutToolbar.png)

> Flyout toolbar of cascade 'visibility' . 

#### Popup Toolbar

Popup toolbar is the toolbar activated by clicking the default middle-button on your
mouse, which allows you to access the tools very conveniently. The main benefit of popup toolbar is 
that you can customize it easily. You can also import or export your popup toolbar for its use on other devices. 

![rhinoPopupToolbar](/ddmImg/rhinoPopupToolbar.png)

> **Adding and deleting tools** - By pressing `ctrl` and `left-click-drag` on any tool from the other toolbars,
> you can add the tool to the popup toolbar. To delete the tool from toolbar, press `shift` key and `left-click-drag` the icon.

![Pop-up toolbar Setting](/ddmImg/Rhino_25_popupSetting.png)

> In case of error that the toolbar deesn't popup properly, you can check the setting: 
> `Tools - Options - Mouse - Middle mouse button - Popup this Toolbar` 
> to select the toolbar you want to popup.

---

### Status Bar

The status bar displays the current coordinate system, the current location, the unit, the current layer, 
and the status bar panes which include several useful functions.

![rhinoStatusBar](/ddmImg/rhinoStatusBar.png)

> 1. [Osnap Control](#osnap-control)
> 2. [Status bar panes](#status-bar-panes) 

#### Status Bar Panes

![rhinoStatusPanesCplane](/ddmImg/rhinoStatusPanesCplane.png)

> 1. **Cplane**     - The construction plane/world coordinates toggle.
> 2. **x/y/z**      - The x/y/z location of mouse cursor.
> 3. **Unit/Delta** - The current [units](#units) setting. 
>                     During drawing commands, it displays the distance from last picked point to the current location.
> 4. **Layer**      - If objects are selected, the pane displays the layer of the selected objects.
>                     If no objects are selected, the pane displays the current layer.

![rhinoStatusPanes](/ddmImg/rhinoStatusPanes.png)

> 1. **Grid Snap**  - forces the marker to snap on grid intersections.
> 2. **Ortho**      - restricts cursor movements to the points at a specified angle from
>                     the last point created. The default angle is 90 degrees. You can
>                     temporarily turn this off by pressing _shift_.
> 3. **Planar**     - helps you model objects in the same projected plane by forcing
>                     input to be on a plane normal to the last point you picked its imagined
>                     connection to your viewport position.
> 4. **Osnap**      - constrains the marker to an exact location on an
>                     object such as the end of a line or the center of a circle. 
>                     Detail of control options is shown in the following [Osnap Control](#osnap-control) section. 
> 5. **SmartTrack** - is a system of temporary reference lines and points
>                     that is drawn in the Rhino viewport.
> 6. **Gumball**    - displays the gumball widget on a selected
>                     object facilitating move, scale, and rotate transformations around the gumball origin.
> 7. **Record History** - records history and updates history-aware objects. With
>                         history recording and update turned on, e.g. a lofted surface can be
>                         changed by editing the input curves.
> 8. **Filter**     - restrict selection to one or more of the filtered types for one selection only.


#### Osnap Control

![rhinoStatusOsnap](/ddmImg/rhinoStatusOsnap.png)

> 1. **End**      - snaps to the end of a curve, line etc.
> 2. **Near**     - snaps onto a curve near the cursor location.
> 3. **Point**    - snaps to a point object or a control point of a line or curve.
> 4. **Mid**      - snaps to the midpoint of a curve, line, polyline segment etc.
> 5. **Cen**      - snaps to the center of a circle, box etc.
> 6. **Int**      - snaps to the intersection or projected intesection of curves, lines, edges etc.
> 7. **Perp**     - snaps perpendicular to a curve.
> 8. **Tan**      - snaps tangent to a curve.
> 9. **Quad**     - snaps to the point on a curve that is at the maximum x or y point
>                  relative to the current construction plan.
> 10. **Knot**    - snaps to a knot on a curve or surface.
> 11. **Vertex**  - snaps to a mesh vertex. The only option to snap on a **mesh** object.
> 12. **Project** - projects object snaps from the actual snap point to the construction plane.
> 13. **Disable** - disables osnap.
>
> Graphical explanation of all obeject snaps can be found [here](http://docs.mcneel.com/rhino/6/help/en-us/user_interface/object_snaps.htm). 

---

### Panels

The tabbed panels at the right side of the window contain many useful Rhino controls.
To open a new panel not yet existing in the sidebar(or closed accidentally), you can go to **_Panels_** in the menu bar
and select the desired panels. By clicking and draging the tab, you can rearrange the tab's postition or make it a floating window.

![rhinoPanels](/ddmImg/rhinoPanels.png)

> Here is a list of commonly used panels: 
> 1. **Property**     - manages object properties for the selected objects. For example, you can edit layer, display color and other
>                       properties in this tab. For example, when designing models for 3D pringting, often a closed model is needed. You can check if the 
>                       model is a closed entity by looking into the `Type` or the `Details` section in this tab.
> 2. **Layer**        - helps organizing obejects so you can manipulate them all at once or keep track of them in some way. When objects are on a layer, 
>                       you can turn them all off at once, change their wireframe display color, and select them all with one selection. 
>                       More info about layer panel will be introduced below. 
> 3. **Display**      - controls some of the common properties for the selected display mode, like the background color and transparency.
> 4. **Layouts**      - manages the layouts in the model.
> 5. **Named Views**  - manages the named views list to save, restore, and edit named views. 

---

### Command Line and History Window

Typing fullname or shortcuts of commands in command line is another efficient way to access different tools in Rhino besides clicking the tool icon,
for example, you can try typing `Options` and pressing `enter` or 'spacebar' to confirm the command, then the 'Options' window will be opened. 

The command history window recorded recenlty used commands. Pressing `F2` shows the last 500 command lines from the current Rhino session

![rhinoCommandLine](/ddmImg/rhinoCommandLine.png)

> 1. **Prompts** - When enterting commands, prompts for possible commands will pop up below the command line.
> 2. **Options** - The command line also displays options and instructions inside a command, taking the command `ExtrudeSrf` for example, 
>    if you want to have a polysurface without top and bottom surface, clicking the `Solid` option and setting it to `No`.
>    Therefore, it is always recommended to check info and follow instruction in the command line.
> 3. To **repeat** the last command, you can press press either `spacebar`, `enter` or `rightclick` (inside viewport). 
> 4. To cancel commands, just press `ESC`. 

---

### Navigation

Rhino offers multiple ways to navigate inside the viewports and view the model, the easiest way might be using the mouse with 
the `left button` to select objects and the `scroll wheel` to zoom in and out and the `right button` to rotate the view.If you press `shift` and use
the `right button`, you can shift the view parallelly.
There are also some tools in the standard section which are designed for navigation and allow you to navigate just using the left button or the touchpad.

![rhinoNavigation](/ddmImg/rhinoNavigation.png)

> 1. **Pan view** - (Equivalent: `shift` + `right button`) shifts the location of the view cameral and target parallel to the view plane.
> 2. **Rotate view** - (Equivalent: `shift` + `right button`) rotates the view target around the camera.
> 3. **Zoom** - (Equivalent: `scroll wheel`) zooms in or out.
> 4. **Zoom window** - zooms in to selected window. 
> 5. **Zoom extents** - zooms to show all objects (except hidden objects) in the model. 
> 6. **Zoom selected** - zooms to selected objects. Useful for cases when you import or paste an object into model but could not find it 
> because it is far from the current view.
> 7. **Undo view change** - reverses the recent view changes. Useful for cases when you already set the viewpoint but accidentlly moved it.
> Note that in this case `ctrl` + `z` does not work.

---

## Geometry

In Rhino, 

### Point

- Tools for modelling points.

### Curve

- Basic explanation of mathmatical representation behind a curve / degress / control point / knots
- Tools for making curves / lines 
- Adjusting curves and Rebuild curves

**To be organized**

![Mouse Navigation](/ddmImg/Rhino_15_Lines.png)

> 1. Point(s) - Point objects mark a single point in 3‑D space. They are the
>    simplest objects in Rhino.
> 2. Line - The Line command draws one line segment.
> 3. Polyline - The Polyline command draws a series of lines.
> 4. Curve - The Curve command draws a curve from control points.

_Tips: You can **just start typing**, there is no need to press on the command
prompt. To confirm the command you can press spacebar or enter or right-click
You can also **repeat the last command** by press either spacebar, enter or
rightclick (on viewport). **To Cancel** stuff, just press ESC_

![Mouse Navigation](/ddmImg/Rhino_16_Extended_Options.png)

> Many commands provide secondary options to allow additional options. By
> clicking on the (Vertical=No) option it will change to “YES”, allowing you to
> move your objects only in Z-Axis. These secondary options are also often
> accessible through the linked toolbar.

### Surface

- Mathmatical representation of surface
- Difference between mesh and NURBS surface
- Tools to model surface


### Polysurface

- Brep (representation of polysurface)
- Tools to model polysurface

## Model

This section introduces useful tools and commands for modelling.

### Units

![Mouse Navigation](/ddmImg/Rhino_12_Acess_Units.png)

> You can access the units properties through the File Menu (File > Properties >
> Units)

![Mouse Navigation](/ddmImg/Rhino_13_Document_Properties.PNG)

> As soon as Rhino is launched, you are prompted to choose the units of the
> model you will be working in. For general landscape modelling we recommend to
> choose "Meters", for CNC Milling the unti of choice should be "Millimeters".

### Layers

![Mouse Navigation](/ddmImg/Rhino_21_Acess_Layer.png)

> You can access the Layer functions through the Edit Menu (Edit > Layers > Edit
> Layers) or >from the Tool Bar.

###### Setting up Layers

Layers are a way of grouping objects and applying certain characteristics to all
objects that have that layer assignment. Layer states include a layer name, the
color used to display the objects, and the visibility and the possibility to
lock/unlock all the objects on a layer. Objects are always created on the
current layer indicated by the little tick. Only one layer can be active at a
time. Objects may also be copied or moved to other layers later. Objects on
layers that are off are not visible in the model. Objects on locked layers
cannot be selected but can be snapped to.

![Mouse Navigation](/ddmImg/Rhino_22_Layer_Settings.png)

> 1. New Layer
> 2. New Sublayer
> 3. Change the on/off state
> 4. Change the locked/unlocked state
> 5. Change the layer color
> 6. Set the current layer
>
> Doubleclick to change the Name
>
> Rightclick to:
>
> -Select Objects on Layer -Change/Copy selected object to layer

### Move and Rotate
- introduce move / rotate 1d / rotate 3d / gumball 

### Scale and Deform
- introduce scale 1d/2d/3d
- introduce moveEdge / moveSurface

### Hide and Show
- introduce hide/show/swap

### Boolean
- Introduce Boolean union / difference 

### Trim and Split
- Introduce trim/untrim/split

### Group and Ungroup 
- Introduce group and un group 

### Measurement
- Measure distance / angle / area / volume

### Layouts

![Mouse Navigation](/ddmImg/Rhino_23_Acess_Layouts.png)

> Use a layout to arrange the model for the printer. (View > Layout > New
> Layout)

Viewport to layout To add a new layout to your rhino file either do:

- Viewport Tab: Rightclick on “+” and “New Layout"
- Via Command prompt: Type: “Layout”
- Via Menu: View > Layout > New Layout

Properties By selecting “New Layout” a window pops up to define certain layout
properties. These can be changed afterwards again.

![Mouse Navigation](/ddmImg/Rhino_24_Set_Scale.png)

> Set scale
>
> 1. Click on the Frame of your View (in the Layout)
> 2. Go to “Properties” then click on “Detail”
> 3. Set Scale

### Name Views

- Introduce named views

### Other Common Commands

| **Measuring**                  |                                                                                       |
| ------------------------------ | ------------------------------------------------------------------------------------- |
|                                |                                                                                       |
| Angle                          | Report the angle between two picked or defined lines                                  |
| Area                           | Report an object’s area                                                               |
| Distance                       | Report the distance between two picked locations                                      |
| Volume                         | Report the volume of closed surfaces, polysurfaces, or meshes                         |
| -                              |                                                                                       |
| **Organizing**                 |                                                                                       |
|                                |                                                                                       |
| Copy                           | Duplicate objects                                                                     |
| CopyToLayer                    | Copy objects to a layer                                                               |
| Group                          | Organize objects into a single component                                              |
| SelAll                         | Select all objects                                                                    |
| Sel(...)                       | Select several object according to selection parameters (Srf, Curve...)               |
| SelLast                        | Select the last changed objects                                                       |
| Text                           | Create annotation text                                                                |
| -                              |                                                                                       |
| -                              |                                                                                       |
| **Linear Elements**            |                                                                                       |
|                                |                                                                                       |
| Contour                        | Create a spaced series of planar curves and points through objects                    |
| Curve                          | Draw a curve from control point locations                                             |
| DupBorder                      | Create a curve or polyline that copies a surface, polysurface, or mesh border         |
| ExtractIsocurve                | Duplicate surface isoparametric curves                                                |
| ExtractWireframe               | Duplicate surface or polysurface edge and isoparametric curves                        |
| Line                           | Draw a single line segment                                                            |
| Polyline                       | Draw a multi-segment polyline with options for line and arc segments and close        |
| TweenCurves                    | Create curves between two open or closed input curves                                 |
| Point(s)                       | Draw a single (multiple) point object                                                 |
| -                              |                                                                                       |
| -                              |                                                                                       |
| **Editing General**            |                                                                                       |
|                                |                                                                                       |
| Explode                        | Break objects down into components                                                    |
| ExplodeBlock                   | Explode a block including any nested blocks into component objects                    |
| Join                           | Connect curves, surface edges, or surfaces to form a single object                    |
| Move                           | Move objects from one location to another                                             |
| MoveCrv                        | Move a polycurve/polyline segment                                                     |
| MoveEdge                       | Move a polysurface edge                                                               |
| MoveFace                       | Move a polysurface face                                                               |
| Mirror                         | Create a mirror-image copy of objects                                                 |
| PointsOn                       | Display curve and surface control points                                              |
| PointsOff                      | Turn off control, edit and solid points display                                       |
| Rebuild                        | Reconstruct curves, surfaces, and extrusion objects                                   |
| Rotate                         | Rotate objects around an axis perpendicular to the conststruction plane               |
| Rotate3D                       | Rotate objects around a 3-D axis                                                      |
| Scale                          | Change the size of objects uniformly in the x-, y-, and z-directions                  |
| Scale1D                        | Change the size of objects in one direction                                           |
| Scale2D                        | Change the size of objects uniformly in two directions                                |
| Split                          | Divide objects using other objects as cutters                                         |
| Trim                           | Cut and delete selected portions of an object at the intersection with another object |
| -                              |                                                                                       |
| -                              |                                                                                       |
| **Editing of linear elements** |                                                                                       |
|                                |                                                                                       |
| CloseCrv                       | Close open curves                                                                     |
| Divide                         | Create points along a curve by n-th segments or specified length                      |
| Extend                         | Lengthen a curve                                                                      |
| Offset                         | Copy a curve parallel to the original                                                 |
| Project                        | Project curves/points on a construction plane / surface                               |

### Modelling Tips

#### AutoCAD Alias Import

If you're an expert of AutoCAD, there's a way to import AutoCAD Aliases into
Rhino. You can then use the keyboard shortcuts to speeSteps:

1. Download the alias file here:
   [autocad-alias](/files/AutoCAD_alias_for_Rhino.txt)

2. Select from Menu: Tools->Options->Aliases:

   ![Aliases Import Window](/ddmImg/Rhino_17_AutoCAD_Alias.png)

3. Click "Import" and load the downloaded file.

4. Confirm with any warning of "overwritten the current aliases".


